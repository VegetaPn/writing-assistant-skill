# Writing Assistant 迭代计划

## 一、背景与愿景

### 灵感来源
参考 dontbesilent 的内容生产系统（见 `dev/reference/best_practice_reference.md`），核心理念：
- **系统化 vs 碎片化** - 每次创作都在沉淀，而不是一次性消耗
- **素材复用** - AI 先检索素材库，避免重复造轮子
- **数据闭环** - 从选题→创作→发布→数据复盘→方法论沉淀
- **记忆系统** - AI 知道你以前写过什么，能建议复用

### 当前系统状态
- 线性工作流：从想法到发布的单向流程
- 每次创作都是独立的
- 没有素材库和知识沉淀机制
- 没有数据复盘和方法论迭代

### 目标愿景
构建一个**可持续沉淀、积累的写作系统**，让每次创作都成为系统资产。

## 二、核心痛点

> 来源：项目实践 + dontbesilent 系统对比分析（见 `dev/dev_reference_materials/dontbesilent/Claude Code：我和 dontbesilent 相处的三个星期.md`）

### 痛点 #1：没有参考 ✅ 已解决（Phase 1）
- **问题**：没有优秀作者风格参考，导致写出来的内容 AI 味很重
- **影响**：内容质量不稳定，缺乏个性和吸引力
- **状态**：已建立参考库，导入 Dan Koe 风格，验证有效

### 痛点 #2：没有沉淀
- **问题**：写过、搜集过的素材无法复用
- **影响**：每次都重新造轮子，效率低下
- **对标**：dontbesilent 有推文库(10,672)、金句库、核心概念库、爆款文稿库，AI 创作前先检索素材库

### 痛点 #3：没有对标
- **问题**：仅靠自己和 AI 思考标题、封面，无法写出爆款
- **影响**：不知道什么样的标题、开头更容易获得流量

### 痛点 #4：没有分析
- **问题**：发表完成后数据没有闭环，不知道写作效果
- **影响**：无法针对性提升，不知道哪些方法有效

### 痛点 #5：参考库缺少中文语境 ⭐ 新发现
- **问题**：当前参考库只有 Dan Koe（英文作者），缺乏中文内容创作的风格参考和平台规范
- **影响**：写中文小红书/公众号时，参考库帮助有限
- **对标**：dontbesilent 有明确的中文平台规范（小红书标题 ≤20字、类型分布比例、"去爹味"反面案例等）

### 痛点 #6：Skill 粒度太粗 ⭐ 新发现
- **问题**：只有 1 个大 skill（writing-assistant, 328 行），覆盖所有场景
- **影响**：无法针对性调用（只想生成标题也要走完整流程）、无法独立迭代、无法批量操作
- **对标**：dontbesilent 有 27 个细粒度 skill，每个解决一个具体问题，有独立版本号和更新日志

### 痛点 #7：没有选题管理 ⭐ 新发现
- **问题**：没有选题生命周期管理，用户每次来都要重新描述想写什么
- **影响**：碎片想法容易丢失，AI 不知道用户的选题积累
- **对标**：dontbesilent 有完整选题流转（碎片想法→待深化→待拍摄→已发布+数据+复盘）

### 痛点 #8：没有多平台适配 ⭐ 新发现
- **问题**：只输出一种格式的文章，没有内容适配逻辑
- **影响**：无法"一鱼多吃"，同一内容需要手动改写才能发不同平台
- **对标**：dontbesilent 同一内容自动适配微信（长文深度）、小红书（短笔记吸睛）、抖音（短段落手机阅读）、推特（精简+数据）

## 三、解决方案设计

### 阶段一：建立参考库系统（解决痛点 #1）

#### 参考库结构

```
references/
├── authors/                    # 按作者分类
│   ├── dontbesilent/
│   │   ├── profile.md          # 作者风格分析
│   │   │   # 包含：写作风格、常用结构、语言特点、核心理念等
│   │   └── articles/           # 文章合集
│   │       ├── article-001.md
│   │       └── article-002.md
│   │
│   └── dan-koe/
│       ├── profile.md
│       └── articles/
│
├── by-element/                 # 按写作元素分类
│   ├── titles/                 # 优秀标题库
│   │   ├── titles-index.md    # 标题合集，标注来源、主题、数据表现
│   │   └── title-patterns.md  # 标题套路分析
│   │
│   ├── openings/               # 优秀开头库
│   │   ├── openings-index.md  # 开头合集
│   │   └── opening-patterns.md
│   │
│   ├── structures/             # 内容结构
│   │   └── structure-templates.md  # 常见结构模板
│   │
│   └── hooks/                  # 吸引人的钩子
│       └── hook-examples.md
│
└── by-topic/                   # 按主题分类（可选）
    ├── AI/
    ├── writing/
    └── productivity/
```

#### 参考库建立方式

**方式 A：手动导入**
- 用户提供优秀文章链接或文本
- AI 自动分析并归档到参考库
- 提取标题、开头、结构等元素

**方式 B：半自动抓取**
- 用户提供作者名字或平台账号
- AI 自动抓取作者的公开内容
- 批量分析并归档

**实施策略：**先实现 A（快速建立基础库），再实现 B（提升效率）

#### 参考库使用场景

**场景 1：写初稿前检索参考**
- 用户提供选题后，AI 自动检索参考库
- 找到类似主题的优秀案例
- 提示："Dan Koe 写过类似的，采用了这样的结构..."
- 询问是否参考该结构

**场景 3：特定环节参考**
- **写标题时**：检索 `by-element/titles/`，提供优秀标题案例和套路
- **写开头时**：检索 `by-element/openings/`，提供吸引人的开头模板
- **搭建结构时**：检索 `by-element/structures/`，提供经验证的结构模板

#### Workflow 改造

**原流程：**
```
Step 1: 选择模式 (Topic/Materials/Draft)
Step 2: 收集和澄清 (Modes 1 & 2)
Step 3: 处理草稿 (Mode 3)
Step 4: 润色草稿
Step 5: 生成插图
Step 6: 创建最终文章
Step 7: 下一步
Step 8: 发布
```

**新流程（增加参考环节）：**
```
Step 1: 选择模式 (Topic/Materials/Draft)

[NEW] Step 1.5: 检索参考库
- 根据选题/主题检索 references/
- 展示相关优秀案例
- 询问是否参考特定风格或结构

Step 2: 收集和澄清 (Modes 1 & 2)

[ENHANCED] Step 2.5: 特定元素参考
- 写标题时：展示优秀标题库
- 写开头时：展示优秀开头库
- 搭建结构时：展示结构模板库

Step 3: 处理草稿 (Mode 3)
Step 4: 润色草稿
Step 5: 生成插图
Step 6: 创建最终文章
Step 7: 下一步
Step 8: 发布
```

### 阶段二：素材沉淀系统（解决痛点 #2）

> **状态：待决策** | 关联痛点：#2 没有沉淀
> **核心价值**：从"每次从零创作"变成"先检索后创作"，这是从"工具"变成"系统"的关键转折点

#### 目标
让每次创作的产出成为系统资产，下次创作时可检索复用。

#### 素材库结构

```
materials/
├── concepts/              # 核心概念库：可复用的理论框架
│   └── {concept-name}.md  # 如 "生产型兴趣.md"、"注意力资产.md"
│
├── quotes/                # 金句库：高质量表达
│   └── quotes-index.md    # 按主题分类的金句合集
│
├── proven-content/        # 已验证内容库：发布过且效果好的内容结构
│   └── {title}.md         # 保留完整文稿 + 数据表现标注
│
└── raw/                   # 原始素材：推文、笔记、录音转写等
    └── {source}/          # 按来源分类
```

#### 工作流改造

**创作前——素材检索（集成到 Step 1.5）：**
1. 用户提供选题后，AI 先检索 `materials/` 目录
2. 查找相关概念、金句、已发布内容
3. 提示：「你之前写过类似内容，要不要复用这个框架？」
4. 然后再检索 `references/` 参考库

**创作后——素材沉淀（新增 Step 6.5）：**
1. 文章完成后，自动提取核心概念 → 存入 `concepts/`
2. 提取金句 → 存入 `quotes/`
3. 询问用户是否将此文标记为"已验证内容" → 存入 `proven-content/`

#### 待确认
- [ ] 素材库目录结构是否合适？
- [ ] 自动提取的粒度：是 AI 自动提取还是用户手动确认？
- [ ] 是否需要导入用户已有的素材（如推文库、笔记等）？

---

### 阶段三：中文参考库 + 去 AI 味（解决痛点 #5）

> **状态：待决策** | 关联痛点：#5 参考库缺少中文语境
> **核心价值**：参考库从"只有英文作者"扩展到"覆盖中文内容创作场景"

#### 目标
增加中文作者风格参考、平台特定规范、以及"去 AI 味"的具体指南。

#### 具体内容

**3a. 添加中文作者参考**
- 添加 dontbesilent 作者 profile + 文章（素材已在 `dev/dev_reference_materials/dontbesilent/`）
- 可选：添加其他中文内容创作者

**3b. 添加平台特定规范到 `by-element/`**
- 小红书标题规范：≤20字、必须留悬念不给答案、张力要素（对比/数字/悬念/冲突至少2项）
- 标题类型分布：数据发现型 20-30%、认知冲突型 20-30%、金句型 15-25%、对比型 10-20%、提问式 10-20%
- 各平台内容差异指南（微信 vs 小红书 vs 抖音 vs 推特）

**3c. 添加"去 AI 味"反面案例库**
- 建立 `references/by-element/anti-patterns/` 或在现有文件中增加
- 收录典型 AI 味写法 vs 正确写法对照：
  - ❌「通过以下三个步骤，您可以有效提升内容质量」→ ✅「90% 的人在第一步就错了」
  - ❌「建议您采用数据驱动的方法进行选题」→ ✅「我用这个方法，一年涨粉 70 万」
  - ❌「综上所述，我们可以得出结论」→ ✅「说白了就一句话」
- 核心原则：像个人说话，不像教科书

#### 待确认
- [ ] 先做哪个：3a（中文作者）、3b（平台规范）、还是 3c（去 AI 味）？
- [ ] dontbesilent 的哪些文章适合导入参考库？
- [ ] 是否需要更多中文作者参考？

---

### 阶段四：Skill 拆分与细化（解决痛点 #6）

> **状态：待决策** | 关联痛点：#6 Skill 粒度太粗
> **核心价值**：从 1 个大 skill 拆分为多个可独立调用、独立迭代的子 skill

#### 目标
用户可以只调用需要的能力（如只生成标题），而不是每次走完整流程。每个 skill 可独立版本化和迭代。

#### 拆分方案

保留 `writing-assistant` 作为**编排层**，新增以下独立子 skill：

| 子 Skill | 功能 | 独立使用场景 |
|----------|------|-------------|
| `title-generator` | 标题生成，含平台规范和方法论 | 「帮我给这篇文章想 5 个小红书标题」 |
| `topic-manager` | 选题记录、检索、生命周期管理 | 「记录一个选题想法」「看看我有什么待深化的选题」 |
| `content-adapter` | 一篇内容适配多个平台格式 | 「把这篇公众号文章改成小红书笔记」 |
| `material-extractor` | 从内容中提取金句/概念/框架存入素材库 | 「从这篇文章里提取金句存到素材库」 |
| `batch-producer` | 批量内容生产（如从推文库批量生成小红书笔记） | 「从这 50 条推文里筛选出适合发小红书的」 |

#### Skill 版本化
每个 skill 文件包含：
- 触发条件
- 核心规则
- 工作流程
- 注意事项
- **更新日志**（版本号 + 每次迭代的改进记录）

#### 待确认
- [ ] 是否同意拆分思路？还是更倾向保持单一 skill？
- [ ] 哪些子 skill 优先级高？
- [ ] 是否需要 `batch-producer`（批量生产能力）？

---

### 阶段五：选题管理系统（解决痛点 #7）

> **状态：待决策** | 关联痛点：#7 没有选题管理
> **核心价值**：碎片想法不再丢失，选题有完整生命周期

#### 目标
建立选题从"灵感"到"发布+复盘"的完整流转。

#### 选题目录结构

```
topics/
├── inbox.md               # 碎片想法快速记录（收集箱）
├── developing/            # 正在深化的选题
│   └── {topic-name}.md    # 包含：想法、素材检索结果、初步大纲
├── ready/                 # 已完成待发布
│   └── {topic-name}.md
└── published/             # 已发布（含数据+复盘）
    └── {topic-name}.md    # 包含：发布时间、平台、数据、复盘思考
```

#### 工作流
1. 用户说「记录选题：xxx」→ AI 追加到 `topics/inbox.md`
2. 用户说「深化选题：xxx」→ AI 检索素材库 → 生成初步大纲 → 移入 `developing/`
3. 创作完成 → 移入 `ready/`
4. 发布后 → 移入 `published/`，记录数据

#### 待确认
- [ ] 是否需要这套选题管理？还是目前手动管理就够了？
- [ ] 选题数据记录的粒度：简单记录还是详细复盘？

---

### 阶段六：多平台适配（解决痛点 #8）

> **状态：待决策** | 关联痛点：#8 没有多平台适配
> **核心价值**："一鱼多吃"，同一内容高效分发到多个平台

#### 目标
一篇内容自动生成适配不同平台的版本。

#### 适配规则

| 平台 | 格式特点 | 适配重点 |
|------|---------|---------|
| 微信公众号 | 长文，深度分析 | 完整论述，配图，引用 |
| 小红书 | 短笔记，≤1000字 | 标题 ≤20字，留悬念，口语化 |
| 抖音 | 短段落，适合手机阅读 | 前5秒吸引力，短句，数据 |
| 推特/X | 精简版，配数据 | 280字限制，核心观点 |

#### 实现方式
- 可作为独立子 skill（`content-adapter`）
- 也可集成到 writing-assistant 的 Step 7 中：完成文章后询问「要适配到哪些平台？」

#### 待确认
- [ ] 目前实际运营几个平台？哪些需要优先支持？
- [ ] 独立 skill 还是集成到主流程？

---

### 阶段七：爆款对标系统（解决痛点 #3）

> **状态：待决策** | 关联痛点：#3 没有对标
> **原阶段三，保留原有思路并补充细节**

#### 目标
建立爆款案例库，让 AI 能分析爆款规律并指导创作。

#### 核心思路
- 建立爆款案例库：收集高流量内容的标题、开头、结构
- 分析爆款规律：对比流量好 vs 流量差的选题/标题特征
- 生成方法论文档：从数据中提炼可复用的规律
- 对标分析：参考头部创作者（如 Dan Koe）的选题策略

#### 待确认
- [ ] 是否有现成的数据可以导入（如已有的数据统计表）？
- [ ] 优先对标哪些平台的爆款？

---

### 阶段八：数据闭环系统（解决痛点 #4）

> **状态：待决策** | 关联痛点：#4 没有分析
> **原阶段四，保留原有思路并补充细节**

#### 目标
发布后记录数据，数据反哺方法论，让方法论是"活的"。

#### 核心思路
- **数据记录**：发布后记录播放量、点赞、评论、完播率等
- **定期复盘**：每周/月汇总分析，哪些内容表现好/差
- **方法论更新**：根据数据更新标题方法论、选题策略等
- **Skill 迭代**：根据复盘结果更新 skill 规则（如 dontbesilent 的 v1.0→v1.1→v1.2）

#### 待确认
- [ ] 数据来源：手动记录还是需要自动抓取？
- [ ] 复盘频率：每周还是每月？
- [ ] 方法论更新：AI 自动建议还是用户手动触发？

## 四、实施路径

### 步骤 1：建立参考库基础 ✅ 已完成

**目标：快速验证参考库价值**

**完成情况：**

1. ✅ **创建目录结构**
   ```
   references/
   ├── authors/dan-koe/
   │   ├── profile.md
   │   └── articles/
   ├── by-element/
   │   ├── titles/
   │   ├── openings/
   │   ├── structures/
   │   └── hooks/
   └── by-topic/
   ```

2. ✅ **导入种子内容**
   - 导入 2 篇 Dan Koe 文章（使用 bird CLI 抓取）
   - "The future of work when work is meaningless"
   - "The most important skill to learn in the next 10 years"

3. ✅ **提取写作元素**
   - `titles/titles-index.md` - 2 个标题分析 + 套路模板
   - `openings/openings-index.md` - 2 个开头分析 + 技巧拆解
   - `structures/structure-templates.md` - 文章结构模板
   - `hooks/hook-examples.md` - 17 个钩子案例

4. ✅ **生成作者风格档案**
   - `authors/dan-koe/profile.md` - 7 个维度的深度分析

### 步骤 2：改造 Workflow ✅ 已完成

**目标：在写作流程中集成参考库**

**完成情况：**

1. ✅ **修改 SKILL.md**
   - 新增 Step 1.5：检索参考库
   - 新增 Step 2.5：特定元素参考（标题、开头、结构、钩子）
   - 更新 Step 3：Draft 模式也经过元素参考
   - 更新 Best Practices：增加参考库使用建议

2. ✅ **实现检索逻辑**
   - Workflow 中定义了检索流程
   - 明确了参考库目录结构

3. ✅ **测试完整流程**
   - 测试选题：「未来五年最值得投资的资产：你的注意力」
   - 参考风格：Dan Koe
   - 验证结果：
     - Step 1.5（检索参考库）✓ 成功识别并展示 Dan Koe 风格
     - Step 2.5（元素级参考）✓ 标题套路、开头技巧、结构模板都有效
     - 完整流程到发布 ✓ 文章已发布到微信公众号
   - 结论：**参考库系统有效降低 AI 味**

### 步骤 3：完善参考库功能

**功能清单：**
- [ ] 实现半自动抓取（方式 B）
- [ ] 增加更多作者和文章（如 dontbesilent）
- [ ] 标题/开头的数据标注（点击率、完播率等）
- [ ] 参考库搜索和过滤功能

## 五、关键决策

### 为什么先做参考库？
1. **痛点最迫切**：AI 味太重直接影响内容质量
2. **见效最快**：手动导入几篇文章就能验证价值
3. **基础设施**：参考库也是后续素材库的基础

### 为什么不完全照搬 dontbesilent？
1. **场景不同**：dontbesilent 运营 7 个平台，我们可能更简单
2. **渐进式**：先解决最痛的问题，再逐步完善
3. **灵活性**：保留调整空间，根据实际使用反馈迭代

### 为什么选择 A+B 的建立方式？
1. **A（手动）快速启动**：不需要开发复杂的爬虫，立即可用
2. **B（自动）提升效率**：内容积累到一定程度后，自动化更高效
3. **先验证再投入**：避免过度开发不需要的功能

## 六、待决策清单

> 以下是所有待实施的改进项。请决定：做/不做/优先级顺序。
> 标记方式：✅ 做 | ❌ 不做 | 🔜 以后再说

### 阶段级决策

| # | 阶段 | 解决的痛点 | 状态 |
|---|------|-----------|------|
| 2 | 素材沉淀系统 | #2 每次从零创作，无法复用 | 待决策 |
| 3 | 中文参考库 + 去 AI 味 | #5 参考库只有英文，缺中文平台规范 | ✅ 部分完成：去 AI 味规则已内嵌到 title-generator；中文参考内容改为动态建立（通过爆款分析自动沉淀） |
| 4 | Skill 拆分与细化 | #6 只有 1 个大 skill，无法灵活调用 | ✅ 已完成：拆分为 title-generator + topic-manager + experience-tracker |
| 5 | 选题管理系统 | #7 碎片想法无处记录，无生命周期 | ✅ 已完成：skills/topic-manager.md + assets/topics/ |
| 6 | 多平台适配 | #8 无法一鱼多吃 | 待决策 |
| 7 | 爆款对标系统 | #3 不知道什么内容容易火 | ✅ 已完成：合并到 topic-manager 中（分析爆款/监控爆款/后台监控/爆款转选题） |
| 8 | 数据闭环系统 | #4 发布后无数据反馈 | 待决策 |

### 阶段一遗留项

| 项目 | 说明 | 状态 |
|------|------|------|
| 半自动抓取（方式 B） | 自动抓取作者公开内容并归档 | ✅ 已通过爆款分析实现（动态建立参考内容） |
| 增加更多作者和文章 | 如 dontbesilent（素材已就绪） | 待决策（改为动态积累，不预先导入） |
| 标题/开头的数据标注 | 给参考库内容标注点击率、完播率等 | 待决策 |
| 参考库搜索和过滤 | 提升检索效率 | 待决策 |

## 七、已完成记录

1. ✅ 创建 references/ 目录结构
2. ✅ 导入 Dan Koe 2 篇文章并分析
3. ✅ 提取写作元素（标题、开头、结构、钩子）
4. ✅ 生成 Dan Koe 风格档案
5. ✅ 改造 SKILL.md 集成参考库
6. ✅ 测试新 workflow（选题：注意力资产，已发布到微信公众号）
7. ✅ 添加心理学方法论参考（`techniques/psychology/`）

### Phase 9: 流程可靠性修复 (2026-02-16)

**触发事件**: ai-solopreneur-paradox 完整流程暴露多个系统性问题

**修复内容**:
1. 进度文件优先原则 — 强制为第一个动作
2. 初始化只做一次 — 增加标记，避免重复
3. 环境预检 — Step 0 中一次性检查所有依赖和 API key
4. 输出目录规范 — outputs/{topic-slug}/ 统一存放
5. Step 2 热门搜索必做 — 搜索+拆解+沉淀不可跳过
6. Step 9 适配增加对标 — 新平台必须先搜索热门再适配
7. Experience Check 当场闭环 — 禁止 Pending，立即创建 case
8. Bird CLI chrome 配置 — 记录到 lessons.md
9. 补录 5 条 Pending corrections 为 case 文件并总结经验

## 八、参考资料

- dontbesilent 系统架构：`dev/dev_reference_materials/dontbesilent/best_practice_reference.md`
- dontbesilent 三周协作分析：`dev/dev_reference_materials/dontbesilent/Claude Code：我和 dontbesilent 相处的三个星期.md`
- 当前 SKILL.md：`SKILL.md`
- README：`README.md`
