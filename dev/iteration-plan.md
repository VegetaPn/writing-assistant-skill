# Writing Assistant 迭代计划 v2

> 上一版本：`dev/archived/iteration-plan-v1.md`（Phase 1-13，参考库 + 流程可靠性 + 动态积累）

## 一、当前系统状态

### 已具备的能力

| 能力 | 说明 | 所在文件 |
|------|------|---------|
| 端到端写作流程 | 从想法到发布的 10 步流程 | SKILL.md |
| 参考库系统 | 作者风格 + 写作元素（标题/开头/结构/钩子）+ 心理学方法论 | references/ |
| 动态积累 | 搜索爆款和分析爆款时自动沉淀模式到 references/by-element/ | search-workflow.md, topic-manager.md |
| 三层内容层级 | system / user / project 三层读写协议 | SKILL.md, 各 sub-skill |
| 选题管理 | 收集箱 → 深化 → 写作的选题生命周期 | skills/topic-manager.md |
| 爆款对标 | 分析爆款 / 监控爆款 / 后台监控 / 爆款转选题 | skills/topic-manager.md |
| 标题生成 | 平台规范 + 去 AI 味 + 类型分布 | skills/title-generator.md |
| 经验系统 | 用户纠正自动记录为 case，提炼 lessons | skills/experience-tracker.md |
| 流程合规 | 进度文件、强制 Skill 调用、自检、透明度报告 | SKILL.md |

### 未解决的痛点

| # | 痛点 | 来源 |
|---|------|------|
| #8 | **没有多平台适配** — 无法"一鱼多吃"，同一内容需手动改写发不同平台 | v1 阶段六 |
| #4 | **没有数据分析** — 发布后无数据记录，无法复盘哪些方法有效 | v1 阶段八 |

### 已决定暂不做

| 功能 | 原因 |
|------|------|
| 素材沉淀系统（金句库/概念库） | 写作量不够，动态积累已覆盖外部爆款模式 |
| 参考库搜索和过滤 | 当前条目少，全文读取即可，积累到 20-30 条再考虑 |
| 标题/开头数据标注 | 依赖数据闭环先建立 |

## 二、本版本目标

### 阶段一：多平台适配（解决痛点 #8）

> **核心价值**：一篇内容高效分发到多个平台，"一鱼多吃"

#### 当前状况

- SKILL.md Step 9 已有平台适配的框架（9b: Platform Adaptation）
- 但缺乏系统化的适配规则，每次适配靠 AI 自由发挥
- 没有各平台的内容规范文档

#### 目标

建立标准化的平台适配规则，让适配产出质量稳定、可预期。

#### 待设计

- [x] 适配规则放在哪：独立子 skill（`content-adapter`）还是集成到 Step 9？ → **独立子 skill `skills/content-adapter.md`**，支持 Step 9b 调用和独立使用
- [x] 需要覆盖哪些平台？当前实际运营的平台清单 → **微信公众号 + 小红书 + X/Twitter + 抖音（全覆盖）**
- [x] 适配规则的具体内容（各平台的字数、语气、结构、标题规范差异）→ **每个平台有独立 Platform Spec（Content Checklist + Structure Template + What NOT to do）**
- [x] 适配流程：是从长文删减，还是重新组织？→ **重新组织：先提取核心信息（平台无关），再按目标平台 Spec 重构**

#### 平台差异参考（来自 v1 规划）

| 平台 | 格式特点 | 适配重点 |
|------|---------|---------|
| 微信公众号 | 长文，深度分析 | 完整论述，配图，引用 |
| 小红书 | 短笔记，≤1000字 | 标题 ≤20字，留悬念，口语化 |
| 抖音 | 视频文字稿（口播/解说） | 开头 3 秒抓注意力，口语化，节奏紧凑，适合朗读 |
| X/Twitter | 精简版，配数据 | 280字限制，核心观点 |

---

### 阶段二：轻量数据记录（解决痛点 #4 的第一步）

> **核心价值**：开始积累发布数据，为未来的复盘和方法论迭代打基础

#### 当前状况

- 发布后（Step 10）流程就结束了，没有数据回流
- 无法判断哪些标题/结构/风格效果好

#### 目标

用最低成本开始记录数据。不做自动抓取、不做定期复盘，先把数据存下来。

#### 待设计

- [x] 数据记录的时机：发布后立即记（初始数据）+ 隔几天补记（稳定数据）？→ **发布后提醒用户过几天记录；追加式记录，支持多次快照**
- [x] 记录格式和存放位置：在 outputs/{slug}/ 里加 metrics.md？还是统一汇总？→ **`outputs/{slug}/metrics.md`（WRITE:project），追加式带时间戳**
- [x] 记录哪些指标（按平台不同）→ **微信（阅读/在看/分享/留言）、小红书（点赞/收藏/评论/分享）、X（浏览/点赞/转发/回复）、抖音（播放/点赞/评论/分享/完播率）**
- [x] 如何触发数据记录（手动说"记录数据"还是发布流程自动提醒）→ **Step 10 发布后自动提醒 + 手动说"记录数据"触发 topic-manager Command 8**

#### 各平台关键指标参考

| 平台 | 关键指标 |
|------|---------|
| 微信公众号 | 阅读量、在看、分享、留言数 |
| 小红书 | 点赞、收藏、评论、分享 |
| X/Twitter | 浏览量、点赞、转发、回复 |

---

## 三、实施路径

> 按优先级排序。每个阶段完成后记录到"已完成记录"。

| 顺序 | 阶段 | 前置条件 |
|------|------|---------|
| 1 | 多平台适配 | 无 |
| 2 | 轻量数据记录 | 无（可与阶段一并行） |

## 四、已完成记录

### 阶段一：多平台适配 ✅

**完成时间:** 2026-02-18

**变更清单：**
- 新建 `skills/content-adapter.md` — 独立子技能，含 7 步工作流 + 四平台 Spec（微信/小红书/X/抖音）
- 修改 `references/steps-polish-to-publish.md` — Step 9b 从内联规则改为委托 content-adapter
- 修改 `SKILL.md` — Companion Skills 列表新增 content-adapter，Step 9b 摘要更新
- 修改 `CLAUDE.md` — Sub-Skills 列表、Workflow Step 9 更新

**设计决策：**
- 做成独立子 skill 而非集成到 Step 9，支持独立调用
- 适配流程为"重新组织"而非"删减"：先提取核心信息，再按平台 Spec 重构
- 抖音格式为纯口播稿（文字 + 停顿/重音标记，无画面描述）

### 阶段二：轻量数据记录 ✅

**完成时间:** 2026-02-18

**变更清单：**
- 修改 `skills/topic-manager.md` — 新增 Command 8（记录数据）+ Command 9（看数据），触发词注册
- 修改 `references/steps-polish-to-publish.md` — Step 10 发布后新增数据记录提醒
- 修改 `SKILL.md` — Step 10 摘要新增提醒，Output Directory 新增 metrics.md
- 修改 `CLAUDE.md` — Topic System 新增第 4 步，File Naming 新增 metrics

**设计决策：**
- 数据存在 `outputs/{slug}/metrics.md`（project 级），追加式带时间戳
- 发布后自动提醒 + 手动"记录数据"触发
- 支持多次快照和趋势对比

## 五、参考资料

- 上一版本迭代计划：`dev/archived/iteration-plan-v1.md`
- v1 阶段六（多平台适配）详细设计：`dev/archived/iteration-plan-v1.md` 阶段六
- v1 阶段八（数据闭环系统）详细设计：`dev/archived/iteration-plan-v1.md` 阶段八
